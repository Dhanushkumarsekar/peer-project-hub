{"ast":null,"code":"// import axios from 'axios';\n// import { auth } from '../firebase';\n\n// const axiosInstance = axios.create({\n//   baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api',\n// });\n\n// // Add Firebase token to requests\n// axiosInstance.interceptors.request.use(\n//   async (config) => {\n//     const user = auth.currentUser;\n//     if (user) {\n//       const token = await user.getIdToken();\n//       config.headers.Authorization = `Bearer ${token}`;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     return Promise.reject(error);\n//   }\n// );\n\n// export default axiosInstance;\n\nimport axios from 'axios';\nimport { getAuth } from 'firebase/auth';\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL || '/api'\n});\napi.interceptors.request.use(async config => {\n  try {\n    const auth = getAuth();\n    const user = auth.currentUser;\n    if (user) {\n      const token = await user.getIdToken();\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  } catch (err) {\n    // ignore token attach errors\n    console.warn('Token attach failed', err);\n  }\n  return config;\n}, err => Promise.reject(err));\nexport default api;","map":{"version":3,"names":["axios","getAuth","api","create","baseURL","process","env","REACT_APP_API_BASE_URL","interceptors","request","use","config","auth","user","currentUser","token","getIdToken","headers","Authorization","err","console","warn","Promise","reject"],"sources":["C:/Users/kdhan/OneDrive/Desktop/EMC-Project/peer-project-hub/client/src/api/axios.js"],"sourcesContent":["// import axios from 'axios';\r\n// import { auth } from '../firebase';\r\n\r\n// const axiosInstance = axios.create({\r\n//   baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api',\r\n// });\r\n\r\n// // Add Firebase token to requests\r\n// axiosInstance.interceptors.request.use(\r\n//   async (config) => {\r\n//     const user = auth.currentUser;\r\n//     if (user) {\r\n//       const token = await user.getIdToken();\r\n//       config.headers.Authorization = `Bearer ${token}`;\r\n//     }\r\n//     return config;\r\n//   },\r\n//   (error) => {\r\n//     return Promise.reject(error);\r\n//   }\r\n// );\r\n\r\n// export default axiosInstance;\r\n\r\n\r\nimport axios from 'axios';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_BASE_URL || '/api'\r\n});\r\n\r\napi.interceptors.request.use(async (config) => {\r\n  try {\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n      const token = await user.getIdToken();\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  } catch (err) {\r\n    // ignore token attach errors\r\n    console.warn('Token attach failed', err);\r\n  }\r\n  return config;\r\n}, (err) => Promise.reject(err));\r\n\r\nexport default api;\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,eAAe;AAEvC,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI;AACjD,CAAC,CAAC;AAEFL,GAAG,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,MAAOC,MAAM,IAAK;EAC7C,IAAI;IACF,MAAMC,IAAI,GAAGX,OAAO,CAAC,CAAC;IACtB,MAAMY,IAAI,GAAGD,IAAI,CAACE,WAAW;IAC7B,IAAID,IAAI,EAAE;MACR,MAAME,KAAK,GAAG,MAAMF,IAAI,CAACG,UAAU,CAAC,CAAC;MACrCL,MAAM,CAACM,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;IAClD;EACF,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZ;IACAC,OAAO,CAACC,IAAI,CAAC,qBAAqB,EAAEF,GAAG,CAAC;EAC1C;EACA,OAAOR,MAAM;AACf,CAAC,EAAGQ,GAAG,IAAKG,OAAO,CAACC,MAAM,CAACJ,GAAG,CAAC,CAAC;AAEhC,eAAejB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}